@model BDSBanGap.Models.SearchModel

@{
    ViewBag.Title = "Index";
    var result = ViewBag.SearchResult as List<BDSBanGap.Models.DBContext.Product>;
}

<style type="text/css">
    table td {
        padding: 1px;
        border: none;
    }
</style>
<div class="Search-panel">
    @*<form method="get" action="/Home/Search">		  
		  <input type="hidden" name="pg" value="1">
            <table class="cobtbl" width="102%" border="0" cellspacing="1" cellpadding="3">
			  <tbody>
              <tr> 
                <td class="cobhl" align="center" colspan="4" height="30">TÌM KIẾM CHI TIẾT</td>
              </tr>
              <tr>
              <td>Tieu de</td>
              <td colspan="3">@Html.EditorFor(s=>s.Title)</td>
              </tr>
			  <tr>
                <td class="cobhl" width="14%" align="right">Min price</td>
				<td class="cobll" width="23%">
                <select id="PriceFrom" name="PriceFrom">
                <option>Tất cả</option>
                <option value="1">1 Tỷ</option>
                <option value="1">2 Tỷ</option>
                <option value="1">4 Tỷ</option>
                <option value="1">6 Tỷ</option>
                <option value="1">10 Tỷ</option>
                <option value="1">15 Tỷ</option>
                <option value="1">20 Tỷ</option>
                </select>
                </td>
				<td class="cobhl" width="16%" align="right">Max Price:</td>
				<td class="cobll" width="47%">
                <select id="PriceTo" name="PriceTo">
                <option>Tất cả</option>
                <option value="1">2 Tỷ</option>
                <option value="1">4 Tỷ</option>
                <option value="1">6 Tỷ</option>
                <option value="1">8 Tỷ</option>
                <option value="1">10 Tỷ</option>
                <option value="1">15 Tỷ</option>
                <option value="1">20 Tỷ</option>
                <option value="1">25 Tỷ</option>
                </select>
                </td>
			  </tr>
			  <tr>
			    <td class="cobhl" width="14%" align="right">Quận:</td>
				<td class="cobll" width="23%">@Html.DropDownListFor(s => s.District, ViewBag.District as SelectList, "Tất cả")
				</td>
				<td class="cobhl" width="16%" align="right">Loại địa ốc:</td>
				<td class="cobll" width="47%">
				  @Html.DropDownListFor(s => s.LoaiDiaOc, ViewBag.LoaiDiaOc as SelectList, "Tất cả")
				</td>
              </tr>
<tr>
			    <td class="cobhl" width="14%" align="right">Tình trạng pháp lý:</td>
				<td class="cobll" width="23%">@Html.DropDownListFor(s => s.TinhTrangPhapLy, ViewBag.Phaply as SelectList,"Tất cả")
				</td>
				<td class="cobhl" width="16%" align="right">Hướng :</td>
				<td class="cobll" width="47%">
				  @Html.DropDownListFor(s => s.Huong, ViewBag.Huong as SelectList, "Tất cả")
				</td>
              </tr>
              <tr>
			    <td class="cobhl" width="14%" align="right">Đường trước nhà:</td>
				<td class="cobll" width="23%">@Html.EditorFor(s => s.DuongTruocNha)
				<td class="cobhl" width="16%" align="right">Vị trí địa ốc:</td>
				<td class="cobll" width="47%">
				  @Html.DropDownListFor(s => s.ViTriDiaOc, ViewBag.VitriDiaOc as SelectList, "Tất cả")
				</td>
              </tr>
			  <tr>
			    <td class="cobhl">&nbsp;</td>
                  <td class="cobll" colspan="3" align="center">
                      <input type="submit" class="btnSearch" value="Tìm Kiếm" />
                  </td>
			  </tr>

			</tbody></table>
		</form>*@
        <div id="quicksearch" class="search_result paginator">
	<div id="quicksearch_title">
		<strong>Tìm kiếm chi tiết</strong>
		<span>&nbsp;</span>
	</div>
	<div class="clearBoth"></div>
	<form method="get" action="/Home/Search">		  
		  <input type="hidden" name="pg" value="1">
            <table class="cobtbl" width="100%" border="0" cellspacing="1" cellpadding="3">
                <tbody>
                    <tr></tr>
                    <tr> 
                        <td class="cobhl" align="center" colspan="4" height="20"></td>
                    </tr>
                    <tr  style="height: 20px;">
                        <td class="cobhl" width="24%" align="right">Tiêu đề</td>
                        <td colspan="3"><input type="text" style="width: 483px; " /></td>
                    </tr>
                    <tr>
                        <td class="cobhl" width="14%" align="right">Giá thấp nhất</td>
                        <td class="cobll" width="23%">
                            <select id="PriceFrom" name="PriceFrom" >
                                <option>Tất cả</option>
                                <option value="1">1 Tỷ</option>
                                <option value="1">2 Tỷ</option>
                                <option value="1">4 Tỷ</option>
                                <option value="1">6 Tỷ</option>
                                <option value="1">10 Tỷ</option>
                                <option value="1">15 Tỷ</option>
                                <option value="1">20 Tỷ</option>
                            </select>
                        </td>
                        <td class="cobhl" width="16%" align="right" >Giá cao nhất</td>
                        <td class="cobll" width="37%">
                            <select id="PriceTo" name="PriceTo" >
                                <option>Tất cả</option>
                                <option value="1">2 Tỷ</option>
                                <option value="1">4 Tỷ</option>
                                <option value="1">6 Tỷ</option>
                                <option value="1">8 Tỷ</option>
                                <option value="1">10 Tỷ</option>
                                <option value="1">15 Tỷ</option>
                                <option value="1">20 Tỷ</option>
                                <option value="1">25 Tỷ</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="cobhl" width="24%" align="right">Quận:</td>
                        <td class="cobll" width="23%">@Html.DropDownListFor(s => s.District, ViewBag.District as SelectList, "Tất cả")
                        </td>
                        <td class="cobhl" width="16%" align="right">Loại địa ốc:</td>
                        <td class="cobll" width="37%">
                            @Html.DropDownListFor(s => s.LoaiDiaOc, ViewBag.LoaiDiaOc as SelectList, "Tất cả")
                        </td>
                    </tr>
                    <tr>
                        <td class="cobhl" width="24%" align="right">Tình trạng pháp lý:</td>
                        <td class="cobll" width="23%">@Html.DropDownListFor(s => s.TinhTrangPhapLy, ViewBag.Phaply as SelectList,"Tất cả")
                        </td>
                        <td class="cobhl" width="16%" align="right">Hướng :</td>
                        <td class="cobll" width="37%">
                            @Html.DropDownListFor(s => s.Huong, ViewBag.Huong as SelectList, "Tất cả")
                        </td>
                    </tr>
                    <tr>
                        <td class="cobhl" width="24%" align="right">Đường trước nhà:</td>
                        <td class="cobll" width="23%">@Html.EditorFor(s => s.DuongTruocNha)
                        <td class="cobhl" width="16%" align="right">Vị trí địa ốc:</td>
                        <td class="cobll" width="37%">
                            @Html.DropDownListFor(s => s.ViTriDiaOc, ViewBag.VitriDiaOc as SelectList, "Tất cả")
                        </td>
                    </tr>
                    <tr>
                        
                        <td class="cobll" colspan="4" align="center">
                            <input type="submit" class="btnSearch" value="Tìm Kiếm" />
                        </td>
                    </tr>

                </tbody></table>
		</form>
</div>
    </div>
	<div class="list-house-content mt5 pt5">
    	<div class="list-house-header-left left pb10">
        	<h3 class="blue bold left">
            	Có <span class="list-house-count" id="house-sell-count">@result.Count()</span> kết quả
            </h3>
        	<br class="clearBoth" />
        </div> <!-- end .house-sell-header-left -->
        <div class="list-house-header-right right">
        	<div class="paginator-number">

            </div> <!-- end .paginator-number -->
        </div> <!-- end .house-sell-header-right -->
        <br class="clearBoth" />
        <div class="list-items">
        @foreach (var item in result)
          {
              <div id="house-id" class="item">
            	<div class="item-image left ml6">
                	<div class="item-image-border">
                    	<a href="/Home/Detail/@item.ProductID">
                        @if (item.Images.Count==0)
                        {
                            <img src="/Content/images/Default-image.jpg" />
                        }
                        else
                        {
                            	<img src="@item.Images.First().ThumblLink" />
                        }

                        
                        </a>
                    </div> <!-- end .item-image-border -->
                </div> <!--end .item-image -->
                <div class="item-description left ml10">
                	<strong>
                    	<a href="/Home/Detail/@item.ProductID">@item.Title</a>
                        <br />
                    </strong>
                    <p class="mt5">@Html.Raw((item.Description.Length>150?item.Description.Substring(0,150):item.Description))</p>
                    	<div class="view-detail">
                        	<div style="position:absolute;top:3px;z-index:100;">
							<a style="font-family: Verdana; font-size: 10px;text-align:left;" href="/Home/Deatil/@item.ProductID">
								Xem chi tiết
							</a>
						</div>
                        </div> <!-- end .view-detail -->
                </div> <!--end .item-description -->


                <div class="border-right-dashed left pl10"></div> <!--end .border-right-dashed -->
                <div class="item-status left">
                	<p style="text-align:center">Phường: @item.Ward.WardName</p>
                    <br />
                    <p style="text-align:center">Quận: @item.Ward.District.DistrictName</p>
                </div> <!--end .item-status -->
                <div class="border-right-dashed left"></div> <!--end .border-right-dashed -->
                <div class="price-place left pl10">
                	<div class="price blue left">@item.Price Tỷ VNĐ</div>
                    <br class="clearBoth" />
                    <div class="place-city pt10"> @BDSBanGap.Models.Enum.huong.GetHuong(item.Huong)</div>
                    <div class="place-distric-road">@BDSBanGap.Models.Enum.TinhTrangPhapLy.GetTinhTrangPhapLy(item.TinhTrangPhapLy)</div>

                </div> <!--end .price-place -->
                <br class="clearLeft" />
            </div> <!-- end .item -->
          }
        	
        </div> <!-- end .list-items -->
        <div class="border-top-end"></div>
        <div class="pagin-end right">
        	<div class="paginator-number">

            </div> <!-- end .paginator-number -->
        </div> <!-- end .pagin-end -->

    </div> <!-- end .house-sell-content -->